---
title: "JMJPFU-SatisfiedTemplate"
output: html_notebook
---

# JMJPFU
### 10-Feb-2017

This is the process for creation of a template. Let us start with Satisfied


### Initial tasks : Setting up the library files

```{r}

library(SnowballC)
library(RWeka)
library(rJava)
library(RWekajars)
library(tm)
```


### Step 1 : Getting the relevant data from the Data set

This process entails getting the relevant data from the text data which has already been scrapped from the web. Reading each text and tagging as predominantly satisfied is going to be a manual process. 

Let us start off with the already prepared Satisfied data in the "WordAssociation.Rmd" file

```{r}

hiltSatisfaction <- hiltRev1[351:400]
hiltSatisfaction

# 255,258,273,

```

### Step2 : Get the term Document Matrix

Next task is to run the function for converting the list of text into a Document Term Matrix

```{r}

# Creating the Term Document Matrix
 satTdm <- tdmCreator(hiltSatisfaction)

```

### Step 3 : Creating the vectors for the most frequent words

```{r}

# Satisfied function for rooms

#roomSatTemp <- templateCreate(satTdm,'rooms',0.30)
#roomSatTemp1 <- templateCreate(satTdm,'rooms',0.30)
roomSatTemp1 <- templateCreate(satTdm,'rooms',0.30)
roomSatTemp2 <- templateCreate(satTdm,'room',0.30)

names(roomSatTemp1)[2] <- "freq8"
names(roomSatTemp2)[2] <- "freq8"

roomSatTemp1 <- rbind(roomSatTemp1,roomSatTemp2)

```

### Step 4 : Combining the templates

```{r}
# First creating a consolidated template
#roomSatCon <- roomSatTemp
#names(roomSatCon)[2] <- "FREQ"
```

Doing the merge of all the template 


```{r}

roomSatCon <- merge(roomSatCon,roomSatTemp1,all = TRUE) # First consolidation


```

### JMJPFU
### 13-Feb-2017

hiltRev1[51:80] - "freq3"
hiltRev1[81:120] - "freq4"
hiltRev1[200:250] - "freq5"
hiltRev1[251:300] - "freq6"
hiltRev1[301:350] - "freq7"
hiltRev1[351:400] - "freq8"
hiltRev1[401:450] - "freq9"
hiltRev1[451:550] - "freq10"
hiltRev1[551:650] - "freq11"
hiltRev1[651:750] - "freq12"

```{r}
# Looking at the text

hiltRev1[651:750]
```


Running the function for the consolidated template as per the above schedule

```{r}

roomSatCon <- conTemplate(hiltRev1,1051,1122,"rooms","room",0.3,"freq16",roomSatCon)

```

Now that one template is created, let us consolidate the results and make summary of the frequencies

```{r}
roomSatCon$Summary <- rowMeans(roomSatCon[,2:17],na.rm = TRUE)

roomSatCon$Count <- row(roomSatCon[,2:17],na.rm = TRUE)
```

Doing a row count

```{r}
for(i in 1:nrow(roomSatCon)){
  cou = 0
  
  for(j in 2:17){
    
    if(!is.na(roomSatCon[i,j])){cou = cou+1}
    
  }
  
  roomSatCon$Count[i] <- cou
  
}
```

# JMJPFU
## 15-Feb-2017

Let us write the consolidated dataframe into a csv file for further classification

```{r}
write.csv(roomSatCon,"Room_Satisfied.csv")
# Reading the file after validation

roomSatVal <- read.csv("Room_Satisfied.csv",header=TRUE)

roomSatVal$X <- NULL
```

# JMJPFU
### 16-Feb-2017

Today let us look at other emotions and check if there are any patterns evolving in them. We will look at 

Anger
```{r}
hiltRev1[191:220]

# Mixed : c(5,17,168,205)
# Anger : c(43,189)
# Frustrated : c(10,82,84)

```


